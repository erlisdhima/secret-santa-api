# Secret Santa API
This application provides API endpoints for a Secret Santa game.

## How it works
1. A game/event is generated by an organizer
2. A Player joins using an invitation code submitting their preferences (invite code generated when the event is created)
3. The Player submits their gift
4. The Organizer runs the gift exchange where gifts are automatically assigned to each player based on their preferences.


## API Endpoints

| Method | Endpoint                                | Description                                | Request Body                                                                             | Field Details                                                                                                                                                                         |
|--------|-----------------------------------------|--------------------------------------------|------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `POST` | `/api/v1/events`                        | Create a new event                         | ```{ "organizerName": "Erlis", "maxPlayers": 5, "giftBudget": 30 }```                    | `organizerName` (string, **required**)  <br> `maxPlayers` (int, **required**) <br> `giftBudget` (float, **required**)                                                                 |
| `GET`  | `/api/v1/events`                        | Get List of events                         |                                                                                          |                                                                                                                                                                                       |
| `GET`  | `/api/v1/events/{inviteCode}`           | Get event by invite code                   |                                                                                          | `inviteCode` (path, **required**)                                                                                                                                                     |
| `POST` | `/api/v1/events/join/{inviteCode}`      | Join event as player                       | ```{ "name": "Erlis", "preferences": [{ "value": "Books", "type": "include" }] }```      | `name` (string, **required**)  <br> `preferences` (array, **optional**) - items (**optional**): <br> `value` (string, **required**) <br>`type` (`include`/`exclude`, **required**)    |
| `POST` | `/api/v1/events/{id}/gift`              | Submit a gift                              | ```{ "playerId": 1, "title": "Wireless Mouse", "category": "Tech", "price": 29.99,  }``` | `playerId` (int, **required**) <br> `title` (string, **required**) <br> `category` (string, **required**) <br> `price` (float, **required**) <br> `productUrl` (string, **optional**) |
| `GET`  | `/api/v1/player/{id}`                   | Get Player by ID                           |                                                                                          | `id` (path, **required**)                                                                                                                                                             |
| `POST` | `/api/v1/events/{id}/run-gift-exchange` | Assign gifts automatically by event id     |                                                                                          | `id` (path, **required**)                                                                                                                                                             |
| `GET`  | `/api/v1/events/{id}/gift-assignments`  | View gift assignments for a given event id |                                                                                          | `id` (path, **required**)                                                                                                                                                             |

